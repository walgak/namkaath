{% extends 'base.html' %}
{% load static %}

{% block title %}Get Started | NAMKAATH{% endblock %}

{% block content %}
    <!-- Header -->
    <div class="page-header animate-on-scroll">
        <h1>Let's Make It Happen</h1>
        <p style="color: var(--text-muted); font-size: 1.2rem;">Tell us about your vision or book a time to chat.</p>
    </div>

    <!-- Main Form Area -->
    <div class="form-container">
        
        <!-- Left: Project Details Form -->
        <div class="form-card animate-on-scroll">
            <h3 class="form-section-title"><i class="fa-solid fa-lightbulb"></i> Describe Your Idea</h3>
            
            {% if success %}
                <div style="background: rgba(16, 185, 129, 0.2); border: 1px solid #10b981; padding: 1rem; border-radius: 10px; color: #10b981; text-align: center; margin-bottom: 1rem;">
                    <i class="fa-solid fa-check-circle"></i> Proposal submitted successfully! We will contact you soon.
                </div>
            {% endif %}

            <form method="post">
                {% csrf_token %}
                <div class="input-grid">
                    <div>
                        <label class="custom-label">First Name</label>
                        {{ form.first_name }}
                    </div>
                    <div>
                        <label class="custom-label">Last Name</label>
                        {{ form.last_name }}
                    </div>
                    <div class="full-width">
                        <label class="custom-label">Email Address</label>
                        {{ form.email }}
                    </div>
                    <div>
                        <label class="custom-label">Project Type</label>
                        {{ form.project_type }}
                    </div>
                    <div class="full-width">
                        <label class="custom-label">Project Details</label>
                        {{ form.details }}
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">Submit Proposal</button>
            </form>
        </div>

        <!-- Right: Appointment Booking (Static for now) -->
        <div class="form-card animate-on-scroll" style="height: fit-content;">
            <h3 class="form-section-title"><i class="fa-regular fa-calendar-check"></i> Book a Call</h3>
            
            <div class="calendar-fake">
                <div class="calendar-header">
                    <span>October 2023</span>
                    <div>
                        <i class="fa-solid fa-chevron-left" style="cursor: pointer; margin-right: 10px;"></i>
                        <i class="fa-solid fa-chevron-right" style="cursor: pointer;"></i>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; text-align: center; font-size: 0.8rem; color: var(--text-muted);">
                    <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
                    <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span>
                    <span>8</span><span>9</span><span style="color: var(--primary); font-weight: bold;">10</span><span>11</span><span>12</span><span>13</span><span>14</span>
                </div>
            </div>

            <div class="full-width">
                <label class="custom-label">Select Available Time (Oct 10)</label>
                <div class="booking-slots" id="timeSlots">
                    <div class="time-slot">09:00 AM</div>
                    <div class="time-slot">10:30 AM</div>
                    <div class="time-slot">01:00 PM</div>
                    <div class="time-slot">02:30 PM</div>
                    <div class="time-slot">04:00 PM</div>
                    <div class="time-slot">05:30 PM</div>
                </div>
            </div>
            
            <p style="margin-top: 1.5rem; font-size: 0.85rem; color: var(--text-muted); text-align: center;">
                <i class="fa-solid fa-video"></i> Virtual Meeting via Google Meet
            </p>
        </div>

    </div>
{% endblock %}

{% block extra_js %}
    <script>
        const slots = document.querySelectorAll('.time-slot');
        slots.forEach(slot => {
            slot.addEventListener('click', () => {
                slots.forEach(s => s.classList.remove('selected'));
                slot.classList.add('selected');
            });
        });
    </script>
{% endblock %}